#!/usr/bin/perl

#calcutes mean square error given a fit (use output file generated by  expfit)

## Written by Priya Moorjani 

open (IN, $ARGV[0]) or die "cant open file\n";

$count = 0; $error = 0;
while ($line = <IN>)
{
	chomp $line; 
	if ( $line =~ /^#/) {next;} #exclude comments
	 else {
		@data = split/\s+/, $line; 
		$count++;
		$diff = $data[2] - $data[3];
		$error += $diff*$diff;
		}
}
close IN;

$msq_error = $error/$count;

printf "Mean square error: %15.9f\n", $msq_error;
		
